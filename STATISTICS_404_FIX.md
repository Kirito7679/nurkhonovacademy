# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 404 –¥–ª—è Statistics Endpoints

## –ü—Ä–æ–±–ª–µ–º–∞:
Endpoints —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 404:
- `/api/statistics/device-statistics`
- `/api/statistics/active-students?days=30`
- `/api/statistics/new-users-growth?days=30`

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

1. **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ, —á—Ç–æ —Ä–æ—É—Ç—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã:**
   - ‚úÖ –†–æ—É—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ `backend/src/routes/statisticsRoutes.ts`
   - ‚úÖ –†–æ—É—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –≤ `backend/src/app.ts` (—Å—Ç—Ä–æ–∫–∞ 79)
   - ‚úÖ –í—Å–µ 4 endpoints –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã

2. **–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–æ—É—Ç–æ–≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

3. **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ API –Ω–∞–ø—Ä—è–º—É—é:**
   - `curl` –∑–∞–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç (401 –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö)
   - API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Network tab
2. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/statistics/*`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - **Request URL** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `https://api.academy.dilmurodnurkhonov.uz/api/statistics/...`
   - **Status Code** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 401 (–Ω–µ 404)
   - **Request Headers** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `Authorization: Bearer <token>`

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã 404:

1. **–ö—ç—à –±—Ä–∞—É–∑–µ—Ä–∞:**
   - –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à: Ctrl+Shift+R (Windows) –∏–ª–∏ Cmd+Shift+R (Mac)
   - –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ

2. **–°—Ç–∞—Ä—ã–π build frontend:**
   - Frontend –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–π API URL
   - –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ frontend: `cd frontend && npm run build`

3. **–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ç–æ–∫–µ–Ω–æ–º:**
   - –¢–æ–∫–µ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–≤–µ—Ä–Ω—ã–º –∏–ª–∏ –∏—Å—Ç–µ–∫—à–∏–º
   - –í–æ–π–¥–∏—Ç–µ –∑–∞–Ω–æ–≤–æ –≤ —Å–∏—Å—Ç–µ–º—É

4. **CORS –ø—Ä–æ–±–ª–µ–º–∞:**
   - –ë—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Console –Ω–∞ –æ—à–∏–±–∫–∏ CORS

## ‚úÖ –†–µ—à–µ–Ω–∏–µ:

1. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞**
2. **–ü–µ—Ä–µ–∑–∞–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É** (—á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω)
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Network tab** - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º URL
4. **–ï—Å–ª–∏ –≤—Å–µ –µ—â–µ 404** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway:
   ```bash
   cd backend
   npx @railway/cli logs --tail 100
   ```

## üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤:

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
cd backend
npx @railway/cli logs --tail 100 | grep -E "(Statistics routes|Auth failed)"
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
- `üìä Statistics routes registered:`
- `‚ùå Auth failed: No token provided for GET /api/statistics/...` (–µ—Å–ª–∏ –Ω–µ—Ç —Ç–æ–∫–µ–Ω–∞)

---

**–°—Ç–∞—Ç—É—Å:** –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ, –¥–µ–ø–ª–æ–π –∑–∞–ø—É—â–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±—Ä–∞—É–∑–µ—Ä –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–µ–ø–ª–æ—è.
