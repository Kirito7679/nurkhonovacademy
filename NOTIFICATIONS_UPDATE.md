# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –≤ Backend

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –Ω–æ socket-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –¥–æ –∫–æ–º–º–∏—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —á—Ç–æ –º–æ–≥–ª–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º.

**–†–µ—à–µ–Ω–∏–µ:**
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏)
- Socket-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è **–ø–æ—Å–ª–µ** –∫–æ–º–º–∏—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –î–æ–±–∞–≤–ª–µ–Ω –ø–æ–∏—Å–∫ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ socket

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–π —Ñ–∞–π–ª:**
- `backend/src/controllers/studentController.ts` (—Å—Ç—Ä–æ–∫–∏ 559-583)

### 2. –§—É–Ω–∫—Ü–∏—è createNotification –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

**–£–ª—É—á—à–µ–Ω–∏–µ:**
- –§—É–Ω–∫—Ü–∏—è `createNotification` —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `tx` (Prisma transaction client)
- –ï—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ø–µ—Ä–µ–¥–∞–Ω–∞, socket-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É (–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞)

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–π —Ñ–∞–π–ª:**
- `backend/src/controllers/notificationController.ts` (—Å—Ç—Ä–æ–∫–∏ 215-237)

---

## ‚úÖ –ß—Ç–æ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤–æ Frontend

### 1. –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ socket-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ `new-notification` —Ç–µ–ø–µ—Ä—å —Å—Ä–∞–∑—É –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `refetch` (–Ω–µ —Ç–æ–ª—å–∫–æ `invalidate`)
- –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–π —Ñ–∞–π–ª:**
- `frontend/src/hooks/useSocket.ts` (—Å—Ç—Ä–æ–∫–∞ 47-50)

### 2. NotificationBell –∏—Å–ø–æ–ª—å–∑—É–µ—Ç useSocket

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `useSocket()` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `NotificationBell`
- –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ socket –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–π —Ñ–∞–π–ª:**
- `frontend/src/components/NotificationBell.tsx` (–¥–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `useSocket()`)

---

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è frontend:

1. **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `useSocket.ts`:**
   - –ó–∞–º–µ–Ω–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `new-notification` –Ω–∞ –≤–µ—Ä—Å–∏—é —Å `refetch`

2. **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `NotificationBell.tsx`:**
   - –î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ `useSocket()` –≤ –Ω–∞—á–∞–ª–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

```bash
# –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ frontend
git pull origin main
npm install  # –µ—Å–ª–∏ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
npm run build  # –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
```

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –≤ –¥–≤—É—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö (–∏–ª–∏ –≤–∫–ª–∞–¥–∫–∞—Ö)
2. –í –æ–¥–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ –≤–æ–π–¥–∏—Ç–µ –∫–∞–∫ —É—á–∏—Ç–µ–ª—å
3. –í –¥—Ä—É–≥–æ–º –±—Ä–∞—É–∑–µ—Ä–µ –≤–æ–π–¥–∏—Ç–µ –∫–∞–∫ —Å—Ç—É–¥–µ–Ω—Ç
4. –£—á–∏—Ç–µ–ª—å –æ–¥–æ–±—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø —Å—Ç—É–¥–µ–Ω—Ç–∞ –∫ –∫—É—Ä—Å—É
5. **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç—É–¥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ** –ø–æ–ª—É—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã)

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
2. **–ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** Socket-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

---

**–°—Ç–∞—Ç—É—Å:** Backend –≥–æ—Ç–æ–≤ ‚úÖ | Frontend —Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ‚ö†Ô∏è
