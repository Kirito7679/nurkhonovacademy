import{m as g,u as y,r as p,V as v,j as e,L as w}from"./vendor-react-BKQy8cua.js";import{t as S,o as k,s as i}from"./vendor-forms-BFjCwuAU.js";import{u as F,L,a as A}from"./index-B1iTD4yI.js";import"./vendor-other-Bzl34R3H.js";import"./vendor-network-CoR7wtyb.js";import"./vendor-i18n-DHwuzpMN.js";import"./vendor-state-BcnB54Y8.js";const E=k({firstName:i().min(1,"Имя обязательно"),lastName:i().min(1,"Фамилия обязательна"),phone:i().min(10,"Номер телефона должен содержать минимум 10 символов"),password:i().min(6,"Пароль должен содержать минимум 6 символов")});function q(){const{t}=g(),x=y(),{setAuth:h}=F(),[m,l]=p.useState(""),[o,n]=p.useState(!1),{register:r,handleSubmit:u,formState:{errors:s}}=v({resolver:S(E)}),f=async N=>{var d,c;l(""),n(!0);try{const a=await A.post("/auth/register",N);if(a.data.success&&a.data.data){const{user:b,token:j}=a.data.data;h(b,j),x("/dashboard")}}catch(a){l(((c=(d=a.response)==null?void 0:d.data)==null?void 0:c.message)||t("errors.somethingWentWrong"))}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50/50 to-emerald-50 py-12 px-4 sm:px-6 lg:px-8 relative",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"relative inline-flex items-center justify-center mb-4",children:e.jsx(L,{className:"h-12 md:h-16"})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gradient",children:t("auth.register")}),e.jsxs("p",{className:"mt-2 text-center text-sm text-primary-700",children:[t("auth.alreadyHaveAccount")," ",e.jsx(w,{to:"/login",className:"font-semibold text-primary-600 hover:text-primary-800 transition-colors underline decoration-2 underline-offset-2",children:t("auth.login")})]})]}),e.jsx("div",{className:"card p-8 shadow-education",children:e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u(f),children:[m&&e.jsx("div",{className:"bg-red-50 border-2 border-red-300 text-red-800 px-4 py-3 rounded-lg font-medium",children:m}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-primary-800 mb-2",children:t("auth.firstName")}),e.jsx("input",{...r("firstName"),type:"text",className:"input-field",placeholder:t("auth.firstName")}),s.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:s.firstName.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-semibold text-primary-800 mb-2",children:t("auth.lastName")}),e.jsx("input",{...r("lastName"),type:"text",className:"input-field",placeholder:t("auth.lastName")}),s.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:s.lastName.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-primary-800 mb-2",children:t("auth.phone")}),e.jsx("input",{...r("phone"),type:"text",autoComplete:"tel",className:"input-field",placeholder:"+998901234567"}),s.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:s.phone.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-primary-800 mb-2",children:t("auth.password")}),e.jsx("input",{...r("password"),type:"password",autoComplete:"new-password",className:"input-field",placeholder:t("auth.password")}),s.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:s.password.message})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:o,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed text-base py-3.5",children:t(o?"common.loading":"auth.register")})})]})})]})})}export{q as default};
