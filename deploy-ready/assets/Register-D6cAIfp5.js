import{f as g,u as y,r as x,D as v,j as e,L as w,H as S}from"./vendor-react-CYnsZ-uh.js";import{u as k,L as F,a as L}from"./index-B_lpl_ns.js";import{an as A,ao as i}from"./vendor-other-G1F3Ub8s.js";const E=A({firstName:i().min(1,"Имя обязательно"),lastName:i().min(1,"Фамилия обязательна"),phone:i().min(10,"Номер телефона должен содержать минимум 10 символов"),password:i().min(6,"Пароль должен содержать минимум 6 символов")});function R(){const{t:s}=g(),p=y(),{setAuth:h}=k(),[l,m]=x.useState(""),[o,n]=x.useState(!1),{register:r,handleSubmit:u,formState:{errors:t}}=v({resolver:S(E)}),f=async N=>{var d,c;m(""),n(!0);try{const a=await L.post("/auth/register",N);if(a.data.success&&a.data.data){const{user:b,token:j}=a.data.data;h(b,j),p("/dashboard")}}catch(a){m(((c=(d=a.response)==null?void 0:d.data)==null?void 0:c.message)||s("errors.somethingWentWrong"))}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50/50 to-emerald-50 py-12 px-4 sm:px-6 lg:px-8 relative",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"relative inline-flex items-center justify-center mb-4",children:e.jsx(F,{className:"h-12 md:h-16"})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gradient",children:s("auth.register")}),e.jsxs("p",{className:"mt-2 text-center text-sm text-primary-700",children:[s("auth.alreadyHaveAccount")," ",e.jsx(w,{to:"/login",className:"font-semibold text-primary-600 hover:text-primary-800 transition-colors underline decoration-2 underline-offset-2",children:s("auth.login")})]})]}),e.jsx("div",{className:"card p-8 shadow-education",children:e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u(f),children:[l&&e.jsx("div",{className:"bg-red-50 border-2 border-red-300 text-red-800 px-4 py-3 rounded-lg font-medium",children:l}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-primary-800 mb-2",children:s("auth.firstName")}),e.jsx("input",{...r("firstName"),type:"text",className:"input-field",placeholder:s("auth.firstName")}),t.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:t.firstName.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-semibold text-primary-800 mb-2",children:s("auth.lastName")}),e.jsx("input",{...r("lastName"),type:"text",className:"input-field",placeholder:s("auth.lastName")}),t.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:t.lastName.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-primary-800 mb-2",children:s("auth.phone")}),e.jsx("input",{...r("phone"),type:"text",autoComplete:"tel",className:"input-field",placeholder:"+998901234567"}),t.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:t.phone.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-primary-800 mb-2",children:s("auth.password")}),e.jsx("input",{...r("password"),type:"password",autoComplete:"new-password",className:"input-field",placeholder:s("auth.password")}),t.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600 font-medium",children:t.password.message})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:o,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed text-base py-3.5",children:s(o?"common.loading":"auth.register")})})]})})]})})}export{R as default};
